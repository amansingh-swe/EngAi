{"ast":null,"code":"var _jsxFileName = \"C:\\\\Projects\\\\EngAi\\\\Backend\\\\generated_projects\\\\project_20251207_060744\\\\frontend\\\\src\\\\components\\\\UploadMedia.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { apiService } from '../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction UploadMedia() {\n  _s();\n  const [selectedFile, setSelectedFile] = useState(null);\n  const [uploadedUrl, setUploadedUrl] = useState('');\n  const [error, setError] = useState('');\n  const handleFileChange = event => {\n    setSelectedFile(event.target.files[0]);\n    setUploadedUrl(''); // Clear previous URL on new file selection\n    setError('');\n  };\n  const handleUpload = async () => {\n    if (!selectedFile) {\n      setError('Please select a file to upload.');\n      return;\n    }\n    const formData = new FormData();\n    formData.append('file', selectedFile);\n    setError('');\n    setUploadedUrl('');\n    try {\n      // The API service needs to be configured to handle multipart/form-data\n      // The `request` function in api.js already handles this if 'Content-Type' is not explicitly set to 'application/json'\n      // or if we explicitly set it to 'multipart/form-data' for this specific call.\n      // Let's ensure the apiService.uploadMedia handles this.\n      const response = await apiService.uploadMedia(formData);\n      setUploadedUrl(response.media_url);\n    } catch (err) {\n      setError(err.message);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Upload Media\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        onChange: handleFileChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleUpload,\n        disabled: !selectedFile,\n        children: \"Upload\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        color: 'red'\n      },\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 17\n    }, this), uploadedUrl && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"File uploaded successfully!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Media URL: \", /*#__PURE__*/_jsxDEV(\"a\", {\n          href: uploadedUrl,\n          target: \"_blank\",\n          rel: \"noopener noreferrer\",\n          children: uploadedUrl\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        src: uploadedUrl,\n        alt: \"Uploaded Media\",\n        style: {\n          maxWidth: '300px',\n          maxHeight: '300px',\n          marginTop: '10px'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 5\n  }, this);\n}\n_s(UploadMedia, \"VB6boY5Yj13zJuRzl/EoBY6C1AU=\");\n_c = UploadMedia;\nexport default UploadMedia;\nvar _c;\n$RefreshReg$(_c, \"UploadMedia\");","map":{"version":3,"names":["React","useState","apiService","jsxDEV","_jsxDEV","UploadMedia","_s","selectedFile","setSelectedFile","uploadedUrl","setUploadedUrl","error","setError","handleFileChange","event","target","files","handleUpload","formData","FormData","append","response","uploadMedia","media_url","err","message","children","fileName","_jsxFileName","lineNumber","columnNumber","type","onChange","onClick","disabled","style","color","href","rel","src","alt","maxWidth","maxHeight","marginTop","_c","$RefreshReg$"],"sources":["C:/Projects/EngAi/Backend/generated_projects/project_20251207_060744/frontend/src/components/UploadMedia.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { apiService } from '../services/api';\r\n\r\nfunction UploadMedia() {\r\n  const [selectedFile, setSelectedFile] = useState(null);\r\n  const [uploadedUrl, setUploadedUrl] = useState('');\r\n  const [error, setError] = useState('');\r\n\r\n  const handleFileChange = (event) => {\r\n    setSelectedFile(event.target.files[0]);\r\n    setUploadedUrl(''); // Clear previous URL on new file selection\r\n    setError('');\r\n  };\r\n\r\n  const handleUpload = async () => {\r\n    if (!selectedFile) {\r\n      setError('Please select a file to upload.');\r\n      return;\r\n    }\r\n\r\n    const formData = new FormData();\r\n    formData.append('file', selectedFile);\r\n\r\n    setError('');\r\n    setUploadedUrl('');\r\n\r\n    try {\r\n      // The API service needs to be configured to handle multipart/form-data\r\n      // The `request` function in api.js already handles this if 'Content-Type' is not explicitly set to 'application/json'\r\n      // or if we explicitly set it to 'multipart/form-data' for this specific call.\r\n      // Let's ensure the apiService.uploadMedia handles this.\r\n      const response = await apiService.uploadMedia(formData);\r\n      setUploadedUrl(response.media_url);\r\n    } catch (err) {\r\n      setError(err.message);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h2>Upload Media</h2>\r\n      <div>\r\n        <input type=\"file\" onChange={handleFileChange} />\r\n        <button onClick={handleUpload} disabled={!selectedFile}>Upload</button>\r\n      </div>\r\n      {error && <p style={{ color: 'red' }}>{error}</p>}\r\n      {uploadedUrl && (\r\n        <div>\r\n          <p>File uploaded successfully!</p>\r\n          <p>Media URL: <a href={uploadedUrl} target=\"_blank\" rel=\"noopener noreferrer\">{uploadedUrl}</a></p>\r\n          <img src={uploadedUrl} alt=\"Uploaded Media\" style={{ maxWidth: '300px', maxHeight: '300px', marginTop: '10px' }} />\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default UploadMedia;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}